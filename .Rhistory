summarize(total_qty = sum(quantity)) %>%
ggplot(aes(x = medications, y = total_qty))+
geom_boxplot()+
geom_jitter()
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity)) %>%
ggplot(aes(x = medications, y = total_qty))+
geom_boxplot()+
geom_jitter()+
theme_bw()
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity)) %>%
ggplot(aes(x = medications, y = total_qty, col = medications))+
geom_boxplot()+
geom_jitter()+
theme_bw()
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity)) %>%
ggplot(aes(x = medications, y = total_qty, col = medications))+
geom_boxplot(aes(fill = medications))+
geom_jitter()+
theme_bw()
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity)) %>%
ggplot(aes(x = medications, y = total_qty, col = medications))+
geom_boxplot(aes(fill = medications, alpha = 0.2))+
geom_jitter()+
theme_bw()
?geom_stat
?t.test
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date)
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
spread()
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))
?reshape
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date) %>%
reshape(idvar = medications, direction = wide)
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date) %>%
reshape(idvar = medications, direction = "wide")
?spread
?reshape
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date) %>%
reshape(timevar = medications, direction = "wide")
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date) %>%
reshape(idvar = medications, direction = "wide")
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date)
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date) %>%
spread()
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date) %>%
spread(.)
?spread
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date) %>%
spread(medications)
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date) %>%
spread(medications, fill = total_qty)
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date) %>%
spread(fill = total_qty)
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date) %>%
reshape(direction = "wide")
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date) %>%
reshape::reshape(direction = "wide")
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date) %>%
reshape::reshape2(direction = "wide")
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date) %>%
reshape2::reshape(direction = "wide")
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date) %>%
spread(., medications, total_qty)
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date)
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date) %>%
spread(., medications, total_qty)
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))%>%
select(!Date) %>%
rownames_to_column("row") %>%
spread(., medications, total_qty)
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))
t.test(tmp %>% filter(medications == "Amlodipine_5mg"), tmp %>% filter(medications == "Metformin_500mg"))
tmp <- data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))
t.test(tmp %>% filter(medications == "Amlodipine_5mg"), tmp %>% filter(medications == "Metformin_500mg"))
t.test(tmp %>% filter(medications == "Amlodipine_5mg") %>% pull(total_qty), tmp %>% filter(medications == "Metformin_500mg"))
t.test(tmp %>% filter(medications == "Amlodipine_5mg") %>% pull(total_qty), tmp %>% filter(medications == "Metformin_500mg")%>% pull(total_qty))
t.test(tmp %>% filter(medications == "Amlodipine_5mg") %>% pull(total_qty), tmp %>% filter(medications == "Metformin_500mg")%>% pull(total_qty))$pvalue
t.test(tmp %>% filter(medications == "Amlodipine_5mg") %>% pull(total_qty), tmp %>% filter(medications == "Metformin_500mg")%>% pull(total_qty))$p.value
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity)) %>%
ggplot(aes(x = medications, y = total_qty, col = medications))+
geom_boxplot(aes(fill = medications, alpha = 0.2))+
geom_jitter()+
theme_bw()+
geom_text(label = t.test(tmp %>% filter(medications == "Amlodipine_5mg") %>% pull(total_qty), tmp %>% filter(medications == "Metformin_500mg")%>% pull(total_qty))$p.value)
geom_text(aes(x = 2, y = 400, label = t.test(tmp %>% filter(medications == "Amlodipine_5mg") %>% pull(total_qty), tmp %>% filter(medications == "Metformin_500mg")%>% pull(total_qty))$p.value)
)
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity)) %>%
ggplot(aes(x = medications, y = total_qty, col = medications))+
geom_boxplot(aes(fill = medications, alpha = 0.2))+
geom_jitter()+
theme_bw()+
geom_text(aes(x = 2, y = 400, label = t.test(tmp %>% filter(medications == "Amlodipine_5mg") %>% pull(total_qty), tmp %>% filter(medications == "Metformin_500mg")%>% pull(total_qty))$p.value))
)$p.value))
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity)) %>%
ggplot(aes(x = medications, y = total_qty, col = medications))+
geom_boxplot(aes(fill = medications, alpha = 0.2))+
geom_jitter()+
theme_bw()+
geom_text(aes(x = 2, y = 400,
label = paste0("pvalue = ", t.test(tmp %>% filter(medications == "Amlodipine_5mg") %>% pull(total_qty),
tmp %>% filter(medications == "Metformin_500mg")%>% pull(total_qty)
)$p.value)))
1/3
1/3*60
read_tsv("SynthB_PK.txt") %>%
ggplot(aes(x = Time_h, y = Digoxin_ngml, group = MouseID, col = MouseID))+
geom_line(aes(linetype = Colonization))+
theme_bw()+
scale_y_log10()
read_tsv("SynthB_PK.txt") %>%
ggplot(aes(x = Time_h, y = Digoxin_ngml, group = MouseID, col = MouseID))+
geom_line(aes(linetype = Colonization))+
theme_bw()+
scale_y_log10()
SynthB_out <-read_tsv("SynthB_PK.txt")%>%
mutate(ID = as.numeric(extract_numeric(MouseID)))%>%
mutate(ID = if_else(Colonization == "SynthB", ID+10, ID),
TIME = Time_h,
AMT = 0,
DV = Digoxin_ngml,
MDV = 0,
EVID = 0) %>%
mutate(TIME = if_else(TIME == 0, 0.0001, TIME)) %>%
select(ID, TIME, AMT, DV, MDV, EVID) %>%
bind_rows(dose) %>% arrange(ID, TIME) %>%
filter(!ID == 11 & !ID == 16 & !TIME == 0.0001)
getwd()
library(tidyverse)
library(readxl)
## required columns ID TIME AMT DV MDV EVID
SPF_PK <- read_tsv("SPF_PK.txt") %>% separate(MouseID, into = c("mouse", "ID")) %>%
select(!mouse) %>% mutate(ID = as.numeric(ID)) %>%
mutate(ID = if_else(Colonization == "E. lenta", ID+10, ID),
TIME = Time_h,
AMT = 0,
DV = Digoxin_ngml,
MDV = 0,
EVID = 0) %>%
mutate(TIME = if_else(TIME == 0, 0.0001, TIME)) %>%
select(ID, TIME, AMT, DV, MDV, EVID) %>%
bind_rows(data.frame("ID" = unique(SPF_PK$ID), ## adding dosing
"TIME" = 0,
"AMT" = 0,
"DV" = 0,
"MDV"= 1,
"EVID" = 1))
## required columns ID TIME AMT DV MDV EVID
SPF_PK <- read_tsv("/Users/jgoh/Box Sync/PK_microbiome_project/Analysis_drylab/PGP_modeling/SPF_PK.txt") %>% separate(MouseID, into = c("mouse", "ID")) %>%
select(!mouse) %>% mutate(ID = as.numeric(ID)) %>%
mutate(ID = if_else(Colonization == "E. lenta", ID+10, ID),
TIME = Time_h,
AMT = 0,
DV = Digoxin_ngml,
MDV = 0,
EVID = 0) %>%
mutate(TIME = if_else(TIME == 0, 0.0001, TIME)) %>%
select(ID, TIME, AMT, DV, MDV, EVID) %>%
bind_rows(data.frame("ID" = unique(SPF_PK$ID), ## adding dosing
"TIME" = 0,
"AMT" = 0,
"DV" = 0,
"MDV"= 1,
"EVID" = 1))
## required columns ID TIME AMT DV MDV EVID
SPF_PK <- read_tsv("SPF_PK.txt") %>% separate(MouseID, into = c("mouse", "ID")) %>%
select(!mouse) %>% mutate(ID = as.numeric(ID)) %>%
mutate(ID = if_else(Colonization == "E. lenta", ID+10, ID),
TIME = Time_h,
AMT = 0,
DV = Digoxin_ngml,
MDV = 0,
EVID = 0) %>%
mutate(TIME = if_else(TIME == 0, 0.0001, TIME)) %>%
select(ID, TIME, AMT, DV, MDV, EVID) %>%
bind_rows(data.frame("ID" = unique(ID), ## adding dosing
"TIME" = 0,
"AMT" = 0,
"DV" = 0,
"MDV"= 1,
"EVID" = 1))
## required columns ID TIME AMT DV MDV EVID
SPF_PK <- read_tsv("SPF_PK.txt") %>% separate(MouseID, into = c("mouse", "ID")) %>%
select(!mouse) %>% mutate(ID = as.numeric(ID)) %>%
mutate(ID = if_else(Colonization == "E. lenta", ID+10, ID),
TIME = Time_h,
AMT = 0,
DV = Digoxin_ngml,
MDV = 0,
EVID = 0) %>%
mutate(TIME = if_else(TIME == 0, 0.0001, TIME)) %>%
select(ID, TIME, AMT, DV, MDV, EVID) %>%
bind_rows(data.frame("ID" = unique(.$ID), ## adding dosing
"TIME" = 0,
"AMT" = 0,
"DV" = 0,
"MDV"= 1,
"EVID" = 1))
SPF_PK
## Dose
dose <- readxl::read_excel("sac_pgps.xlsx") %>%
mutate(MouseID = extract_numeric(MouseID))%>%
mutate(ID = if_else(Colonization == "SYNTH-B", MouseID+10, MouseID),
TIME = 0,
AMT = `Sac Weight (g)` *15, ## ng dosing, dosing was 15mg/kg
DV = 0,
MDV = 1,
EVID = 1) %>%
select(ID, TIME, AMT, DV, MDV, EVID)
SynthB_PK <-read_tsv("SynthB_PK.txt")%>%
mutate(ID = as.numeric(extract_numeric(MouseID)))%>%
mutate(ID = if_else(Colonization == "SynthB", ID+10, ID),
TIME = Time_h,
AMT = 0,
DV = Digoxin_ngml,
MDV = 0,
EVID = 0) %>%
mutate(TIME = if_else(TIME == 0, 0.0001, TIME)) %>%
select(ID, TIME, AMT, DV, MDV, EVID) %>%
bind_rows(dose) %>% arrange(ID, TIME)
read_tsv("SynthB_PK.txt") %>%
ggplot(aes(x = Time_h, y = Digoxin_ngml, group = MouseID, col = MouseID))+
geom_line(aes(linetype = Colonization))+
theme_bw()+
scale_y_log10()
SynthB_out <-read_tsv("SynthB_PK.txt")%>%
mutate(ID = as.numeric(extract_numeric(MouseID)))%>%
mutate(ID = if_else(Colonization == "SynthB", ID+10, ID),
TIME = Time_h,
AMT = 0,
DV = Digoxin_ngml,
MDV = 0,
EVID = 0) %>%
mutate(TIME = if_else(TIME == 0, 0.0001, TIME)) %>%
select(ID, TIME, AMT, DV, MDV, EVID) %>%
bind_rows(dose) %>% arrange(ID, TIME) %>%
filter(!ID == 11 & !ID == 16 & !TIME == 0.0001)
write_csv(SynthB_PK, "SynthB_PK_NM_noOutliers.csv")
SynthB_out
write_csv(SynthB_PK, "SynthB_PK_NM_noOutliers.csv")
SynthB_out <-read_tsv("SynthB_PK.txt")%>%
mutate(ID = as.numeric(extract_numeric(MouseID)))%>%
mutate(ID = if_else(Colonization == "SynthB", ID+10, ID),
TIME = Time_h,
AMT = 0,
DV = Digoxin_ngml,
MDV = 0,
EVID = 0) %>%
mutate(TIME = if_else(TIME == 0, 0.0001, TIME)) %>%
select(ID, TIME, AMT, DV, MDV, EVID) %>%
bind_rows(dose) %>% arrange(ID, TIME) %>%
filter(!ID == 11 & !ID == 16 & !TIME == 0.0001 & !TIME = 7)
SynthB_out <-read_tsv("SynthB_PK.txt")%>%
mutate(ID = as.numeric(extract_numeric(MouseID)))%>%
mutate(ID = if_else(Colonization == "SynthB", ID+10, ID),
TIME = Time_h,
AMT = 0,
DV = Digoxin_ngml,
MDV = 0,
EVID = 0) %>%
mutate(TIME = if_else(TIME == 0, 0.0001, TIME)) %>%
select(ID, TIME, AMT, DV, MDV, EVID) %>%
bind_rows(dose) %>% arrange(ID, TIME) %>%
filter(!ID == 11 & !ID == 16 & !TIME == 0.0001 & !TIME == 7)
write_csv(SynthB_PK, "SynthB_PK_NM_noOutliers.csv")
SynthB_out <-read_tsv("SynthB_PK.txt")%>%
mutate(ID = as.numeric(extract_numeric(MouseID)))%>%
mutate(ID = if_else(Colonization == "SynthB", ID+10, ID),
TIME = Time_h,
AMT = 0,
DV = Digoxin_ngml,
MDV = 0,
EVID = 0) %>%
mutate(TIME = if_else(TIME == 0, 0.0001, TIME)) %>%
select(ID, TIME, AMT, DV, MDV, EVID) %>%
bind_rows(dose) %>% arrange(ID, TIME) %>%
filter(!ID == 11 & !ID == 16 & !ID == 4 & !TIME == 0.0001 & !TIME == 7)
write_csv(SynthB_PK, "SynthB_PK_NM_noOutliers.csv")
write_csv(SynthB_PK, "SynthB_PK_NM_noOutliers2.csv")
SynthB_out <-read_tsv("SynthB_PK.txt")%>%
mutate(ID = as.numeric(extract_numeric(MouseID)))%>%
mutate(ID = if_else(Colonization == "SynthB", ID+10, ID),
TIME = Time_h,
AMT = 0,
DV = Digoxin_ngml,
MDV = 0,
EVID = 0) %>%
mutate(TIME = if_else(TIME == 0, 0.0001, TIME)) %>%
select(ID, TIME, AMT, DV, MDV, EVID) %>%
bind_rows(dose) %>% arrange(ID, TIME) %>%
filter(!TIME == 0.0001)
write_csv(SynthB_PK, "SynthB_PK_NM_noOutliers2.csv")
SynthB_out
dose
readxl::read_excel("sac_pgps.xlsx") %>%
mutate(MouseID = extract_numeric(MouseID))%>%
mutate(ID = if_else(Colonization == "SYNTH-B", MouseID+10, MouseID),
TIME = 0,
AMT = `Sac Weight (g)` *15, ## ng dosing, dosing was 15mg/kg
DV = 0,
MDV = 1,
EVID = 1)
15*52
## Dose
dose <- readxl::read_excel("sac_pgps.xlsx") %>%
mutate(MouseID = extract_numeric(MouseID))%>%
mutate(ID = if_else(Colonization == "SYNTH-B", MouseID+10, MouseID),
TIME = 0,
AMT = `Sac Weight (g)` *15*1000, ## ng dosing, dosing was 15mg/kg
DV = 0,
MDV = 1,
EVID = 1) %>%
select(ID, TIME, AMT, DV, MDV, EVID)
SynthB_PK <-read_tsv("SynthB_PK.txt")%>%
mutate(ID = as.numeric(extract_numeric(MouseID)))%>%
mutate(ID = if_else(Colonization == "SynthB", ID+10, ID),
TIME = Time_h,
AMT = 0,
DV = Digoxin_ngml,
MDV = 0,
EVID = 0) %>%
mutate(TIME = if_else(TIME == 0, 0.0001, TIME)) %>%
select(ID, TIME, AMT, DV, MDV, EVID) %>%
bind_rows(dose) %>% arrange(ID, TIME)
write_csv(SynthB_PK, "SynthB_PK_NM.csv")
ggsave("SynthB_vs_GF_digoxin.pdf")
read_tsv("SynthB_PK.txt") %>%
ggplot(aes(x = Time_h, y = Digoxin_ngml, group = MouseID, col = MouseID))+
geom_line(aes(linetype = Colonization))+
theme_bw()+
scale_y_log10()
ggsave("SynthB_vs_GF_digoxin.pdf")
SynthB_out <-read_tsv("SynthB_PK.txt")%>%
mutate(ID = as.numeric(extract_numeric(MouseID)))%>%
mutate(ID = if_else(Colonization == "SynthB", ID+10, ID),
TIME = Time_h,
AMT = 0,
DV = Digoxin_ngml,
MDV = 0,
EVID = 0) %>%
mutate(TIME = if_else(TIME == 0, 0.0001, TIME)) %>%
select(ID, TIME, AMT, DV, MDV, EVID) %>%
bind_rows(dose) %>% arrange(ID, TIME) %>%
filter(!TIME == 0.0001)
write_csv(SynthB_PK, "SynthB_PK_NM_noOutliers2.csv")
write_csv(SynthB_PK, "SynthB_PK_NM_noOutliers.csv")
SynthB_out
read_tsv("SynthB_PK.txt") %>%
ggplot(aes(x = Time_h, y = Digoxin_ngml, group = MouseID, col = MouseID))+
geom_line(aes(linetype = Colonization))+
theme_bw()+
scale_y_log10()
1/750
1/750*60
setwd("~/Documents/IntroToR/")
library(tidyverse)
library(randomNames)
library(readxl)
data <- read.csv("20200912_dispensingRecords.csv")
data <- read.csv("20200912_dispensingRecords.csv")
data
data %>% class
data %>% pull(medications) %>% class
data %>% pull(quantity) %>% quantity
data %>% pull(quantity) %>% class
head(data)
grepl("doxy", data$medications)
grepl("doxy", data$medications, ignore.case = T)
data %>% pull(Date) %>% class
data %>% filter(Date > "2020-09-01")
data %>% filter(as.Date(Date) > as.Date("2020-09-01"))
Aug.data <- data %>% separate(Date, into = c("YY", "MM", "DD"), by = "-") %>%
mutate_at(c("YY", "MM", "DD"), as.numeric) %>%
filter(MM == 08) %>%
group_by(medications, item_code) %>%
summarize(total_given = sum(quantity))
Aug.data
?class
t.test(
tmp %>%  filter(medications == "Amlodipine_5mg") %>% pull(total_qty),
tmp %>% filter(medications == "Metformin_500mg")%>% pull(total_qty)
)
tmp <- data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity))
t.test(
tmp %>%  filter(medications == "Amlodipine_5mg") %>% pull(total_qty),
tmp %>% filter(medications == "Metformin_500mg")%>% pull(total_qty)
)
## How to run a t.test?
?t.test
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity)) %>%
ggplot(aes(x = medications, y = total_qty, col = medications))+
geom_boxplot(aes(fill = medications, alpha = 0.2))+
geom_jitter()+
theme_bw()+
geom_text(aes(x = 2, y = 400,
label = paste0("pvalue = ", tt.results$p.value)))
tt.results <- t.test(tmp %>%  filter(medications == "Amlodipine_5mg") %>% pull(total_qty),
tmp %>% filter(medications == "Metformin_500mg")%>% pull(total_qty))
## How to get results from a t.test?
tt.results$p.value
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity)) %>%
ggplot(aes(x = medications, y = total_qty, col = medications))+
geom_boxplot(aes(fill = medications, alpha = 0.2))+
geom_jitter()+
theme_bw()+
geom_text(aes(x = 2, y = 400,
label = paste0("pvalue = ", tt.results$p.value)))
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity)) %>%
ggplot(aes(x = medications, y = total_qty, col = medications))+
geom_boxplot(aes(fill = medications, alpha = 0.2))+
geom_jitter()+
theme_bw()+
geom_text(aes(x = 2, y = 400,
label = paste0("pvalue = ", tt.results$p.value)))+
theme(legend = NULL)
data %>% filter(medications  %in% c("Amlodipine_5mg", "Metformin_500mg")) %>%
group_by(medications, Date) %>%
summarize(total_qty = sum(quantity)) %>%
ggplot(aes(x = medications, y = total_qty, col = medications))+
geom_boxplot(aes(fill = medications, alpha = 0.2))+
geom_jitter()+
theme_bw()+
geom_text(aes(x = 2, y = 400,
label = paste0("pvalue = ", tt.results$p.value)))+
theme(legend.position = "none")
?class
